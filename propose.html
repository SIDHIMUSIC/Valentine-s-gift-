<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Propose Day üíç</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Nunito:wght@400;700&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    height:100vh;
    background:linear-gradient(135deg,#ff9a9e,#fecfef);
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:'Nunito',sans-serif;
    overflow:hidden;
}

/* ---------- RING BOX ---------- */
.ring-box{
    width:150px;height:150px;
    position:relative;cursor:pointer;
    z-index:5;
}
.box-bottom{
    position:absolute;bottom:0;width:100%;height:80px;
    background:#d32f2f;border-radius:0 0 20px 20px;
}
.box-lid{
    position:absolute;top:0;width:100%;height:70px;
    background:#b71c1c;border-radius:20px 20px 0 0;
    transform-origin:bottom;transition:.8s;
}
.ring{
    position:absolute;top:45px;left:50%;
    transform:translateX(-50%) scale(0);
    font-size:80px;transition:1s;
}
.ring-box.open .box-lid{transform:rotateX(-110deg);}
.ring-box.open .ring{top:-40px;transform:translateX(-50%) scale(1.2);}

/* ---------- OVERLAY ---------- */
.overlay{
    position:fixed;inset:0;
    background:rgba(0,0,0,.6);
    display:none;justify-content:center;align-items:center;
    z-index:1000;
}
.card{
    background:#fff;padding:30px;border-radius:20px;
    text-align:center;
}
.btn{
    padding:12px 30px;border:none;border-radius:30px;
    font-size:18px;margin:10px;cursor:pointer;
}
.yes{background:#4caf50;color:#fff;}
.no{background:#f44336;color:#fff;position:relative;}

/* ---------- FINAL SCENE ---------- */
.scene{
    position:fixed;inset:0;
    background:linear-gradient(135deg,#ff9a9e,#fecfef);
    display:none;overflow:hidden;
    transform:scale(1);
    transition:transform 3s ease-out;
}
.scene.zoom{ transform:scale(1.08); }

/* Spotlight */
.spotlight{
    position:absolute;inset:0;
    background:radial-gradient(circle at 60% 55%,
        rgba(255,255,255,.6),
        rgba(255,255,255,.15),
        rgba(0,0,0,.7));
    opacity:0;transition:1.2s;
}

/* Characters */
.character{
    position:absolute;bottom:25%;
    font-size:130px;
    transition:all .8s cubic-bezier(.4,1.4,.6,1);
}
.boy{left:-200px;transform:scaleX(-1);}
.boy-walk{left:24%;}
.boy-kneel{bottom:27%;}
.girl{right:12%;transform:scaleX(-1);}

/* Ring */
.final-ring{
    position:absolute;
    left:28%;bottom:45%;
    font-size:60px;
    opacity:0;
    transition:2s cubic-bezier(.4,1.4,.6,1);
}
.ring-fly{
    opacity:1;
    left:58%;
    bottom:36%;
    transform:scale(0.9);
}

/* Text */
.final-text{
    position:absolute;top:12%;width:100%;
    text-align:center;
    font-family:'Dancing Script',cursive;
    font-size:3rem;color:#b71c1c;
    opacity:0;transition:1.2s;
}

/* ---------- NAMES ---------- */
.names{
    position:absolute;
    top:22%;
    width:100%;
    text-align:center;
    font-family:'Dancing Script',cursive;
    font-size:2.6rem;
}

/* Typing cursor */
.cursor{
    display:inline-block;
    animation:blink 1s infinite;
}
@keyframes blink{50%{opacity:0;}}

/* Colors + glow */
.harry{
    color:#1e88e5;
    text-shadow:0 0 10px rgba(30,136,229,.8);
    animation:glowBlue 3s infinite alternate;
}
.muskan{
    color:#e91e63;
    text-shadow:0 0 12px rgba(233,30,99,.9);
    animation:glowPink 2.5s infinite alternate;
}
@keyframes glowBlue{
    from{ text-shadow:0 0 8px #1e88e5; }
    to{ text-shadow:0 0 20px #90caf9; }
}
@keyframes glowPink{
    from{ text-shadow:0 0 8px #e91e63; }
    to{ text-shadow:0 0 22px #f48fb1; }
}

/* Sparkles for Muskan */
.sparkle{
    position:absolute;
    color:#ffd700;
    font-size:14px;
    animation:spark 1.5s ease-out forwards;
}
@keyframes spark{
    to{
        transform:translateY(-40px) scale(0);
        opacity:0;
    }
}

/* Hearts */
.heart{
    position:fixed;
    top:-20px;
    font-size:24px;
    animation:fall linear forwards;
}
@keyframes fall{
    to{transform:translateY(110vh);opacity:0;}
}
</style>
</head>

<body>

<h1 id="tap" style="position:absolute;top:15%;color:white;font-family:'Dancing Script';">
Tap the Box‚Ä¶
</h1>

<div class="ring-box" id="box" onclick="openBox()">
    <div class="box-lid"></div>
    <div class="ring">üíç</div>
    <div class="box-bottom"></div>
</div>

<!-- QUESTION -->
<div class="overlay" id="q1">
    <div class="card">
        <h2>Pehna du? ü•∫</h2>
        <button class="btn yes" onclick="start()">Yes ‚ù§Ô∏è</button>
        <button class="btn no" id="noBtn">No üòí</button>
    </div>
</div>

<!-- FINAL SCENE -->
<div class="scene" id="scene">
    <div class="spotlight" id="spot"></div>

    <div class="final-text" id="msg">Happy Propose Day ‚ù§Ô∏è</div>

    <div class="names" id="names">
        <span id="harry"></span>
        <span id="heartTxt"></span>
        <span id="muskan"></span>
        <span class="cursor">|</span>
    </div>

    <div class="character boy" id="boy">üö∂‚Äç‚ôÇÔ∏è</div>
    <div class="final-ring" id="ringFinal">üíç</div>
    <div class="character girl" id="girl">üßç‚Äç‚ôÄÔ∏è</div>
</div>

<audio id="sound">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_7b5f2c5df3.mp3">
</audio>

<script>
const noBtn=document.getElementById("noBtn");

/* NO runs */
function moveNo(){
    noBtn.style.position="fixed";
    noBtn.style.left=Math.random()*(innerWidth-120)+"px";
    noBtn.style.top=Math.random()*(innerHeight-80)+"px";
}
noBtn.addEventListener("mouseover",moveNo);
noBtn.addEventListener("touchstart",moveNo);

function openBox(){
    box.classList.add("open");
    tap.style.opacity=0;
    setTimeout(()=>{
        box.style.display="none";
        q1.style.display="flex";
    },1000);
}

function start(){
    q1.style.display="none";
    scene.style.display="block";

    setTimeout(()=>boy.classList.add("boy-walk"),200);

    setTimeout(()=>{
        boy.textContent="üßé‚Äç‚ôÇÔ∏è";
        boy.classList.add("boy-kneel");
        girl.textContent="üíÅ‚Äç‚ôÄÔ∏è";
    },2600);

    setTimeout(()=>{
        ringFinal.classList.add("ring-fly");
        spot.style.opacity=1;
        sound.play();
        scene.classList.add("zoom");
        hearts();
        typeNames();
    },3800);

    setTimeout(()=>msg.style.opacity=1,5200);
}

/* Typing animation */
function typeNames(){
    const h="Harry";
    const m="Muskan";
    let i=0,j=0;

    const harryEl=document.getElementById("harry");
    const heartEl=document.getElementById("heartTxt");
    const muskanEl=document.getElementById("muskan");

    harryEl.className="harry";
    muskanEl.className="muskan";

    const int1=setInterval(()=>{
        if(i<h.length){
            harryEl.textContent+=h[i++];
        }else{
            clearInterval(int1);
            heartEl.textContent=" ‚ù§Ô∏è ";
            const int2=setInterval(()=>{
                if(j<m.length){
                    muskanEl.textContent+=m[j++];
                    sparkle(muskanEl);
                }else clearInterval(int2);
            },180);
        }
    },180);
}

/* Sparkles on Muskan */
function sparkle(el){
    const s=document.createElement("span");
    s.className="sparkle";
    s.textContent="‚ú®";
    const r=el.getBoundingClientRect();
    s.style.left=r.left+r.width/2+"px";
    s.style.top=r.top+"px";
    document.body.appendChild(s);
    setTimeout(()=>s.remove(),1500);
}

/* Hearts */
function hearts(){
    for(let i=0;i<25;i++){
        const h=document.createElement("div");
        h.className="heart";
        h.textContent="üíì";
        h.style.left=Math.random()*100+"vw";
        h.style.animationDuration=(Math.random()*2+3)+"s";
        document.body.appendChild(h);
        setTimeout(()=>h.remove(),5000);
    }
}
</script>

</body>
</html>
